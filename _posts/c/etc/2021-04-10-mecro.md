---
layout: post
title:  "[C]매크로(mecro)"
subtitle:   ""
date: 2021-04-10 04:45:51 +0900
categories: c
tags: etc
comments: true 
---
<style>
    aa {
        font-weight: bold;
        color: #60fc52;
    }
    bb {
        font-weight: bold;
        color: #e97dff;
    }
</style>
이번 포스트는 **매크로(mecro)**에 관한 내용입니다.

* * *
<h1>1️⃣ #define &#38; #undef</h1>
<h2 style="color:#0e435c;">(1) #define</h2>
<dec><rd>#define</rd>&nbsp;&nbsp;<aa>식별자</aa> ( <bb>대체_목록</bb> )</dec><br />

* **전처리**과정에서 <dec1><aa>식별자</aa></dec1>가 보이면 모두 <dec1><bb>대체_목록</bb></dec1>로 바꿔줍니다.
* <bb>대체_목록</bb>없이 <dec1><rd>#define</rd>&nbsp;&nbsp;<aa>식별자</aa></dec1>으로 쓰이면 **내용**으로 바꿔주지 않고 단순히 **정의(define)**만 됩니다.<b style="font-size:90%">( 인클루드 가드에 사용)</b>

* * *
<h2 style="color:#0e435c;">(2) #undef</h2>
<dec><rd>#undef</rd>&nbsp;&nbsp;<aa>식별자</aa></dec><br />

* 이미 정의된 <dec1><aa>식별자</aa></dec1>가 있을 경우 없애 줍니다.
<h3 align="middle" style="color:#0e435c;">&lt; 정의 매크로 예시 &gt;</h3>

<kkr>
<rmk>/* A가 정의되어있지 않으면 정의1 */</rmk><br />
<rd>#ifndef</rd> <aa>A</aa><br />
<rd># define</rd> <aa>A</aa> (<bb>0</bb>)<br />
<rd>#endif</rd><br />
<br />
<rmk>/* A가 정의되어있지 않으면 정의2 */</rmk><br />
<rd>#if !defined</rd> (<aa>A</aa>)<br />
<rd># define</rd> <aa>A</aa> (<bb>0</bb>)<br />
<rd>#endif</rd><br />
<br />
<rmk>/* A가 정의되어있다면 정의를 해제1 */</rmk><br />
<rd>#ifdef</rd> <aa>A</aa><br />
<rd># undef</rd> <aa>A</aa><br />
<rd>#endif</rd><br />
<br />
<rmk>/* A가 정의되어있다면 정의를 해제2 */</rmk><br />
<rd>#if definde</rd>(<aa>A</aa>)<br />
<rd># undef</rd> <aa>A</aa><br />
<rd>#endif</rd><br />
<br />
<rmk>/* 인클루드 가드 */</rmk><br />
<rd>#ifndef</rd> <aa>TEST_H</aa><br />
<rd># define</rd> <aa>TEST_H</aa><br />
..헤더 내용..<br />
<rd>#endif</rd><br />
</kkr>

<h2 style="color:#0e435c;">(3) 미리 정의되어 있는 #define예</h2>

* `__FILE__`: 현재 파일의 이름을 <b>문자열</b>로 표시합니다.
* `__LINE__`: 현재 코드의 <b>줄 번호</b>를 정수형으로 표시합니다.
<h3 align="middle" style="color:#0e435c;">&lt; 오류 출력시 사용 &gt;</h3>

<img src="https://kirkim.github.io/assets/img/c/macro1.png" alt="err_macro_example" width="100%">
<kkr>
<rmk>/*---출력---*/</rmk><br />
error: test.c, line 5.<br />
</kkr>
