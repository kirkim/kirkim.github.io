---
layout: post
title: "[JavaScript] Promise"
subtitle: ""
date: 2021-08-20 03:45:51 +0900
categories: javascript
tags: study
comments: true
---

<h1>1️⃣ 목표</h1>
<kline></kline>

1. Pomise사용법 배우기
2. async사용법 배우기

<h1>2️⃣ Promise를 사용해야되는 이유</h1>

<div class="A-20_out">
	<h3 id="A-20_title">출력</h3>
	<div id="A-20_btn">
		<button id="corn"> 🌽 </button>
		<button id="potato"> 🥔 </button>
		<button id="apple"> 🍎 </button>
	</div>
	<div id="out">
		<span id="base" class="hidden">inspect the food...<br></span>
		<!--corn-->
		<span id="c1" class="hidden">cooking...<br></span>
		<span id="c2" class="hidden">success!<br>🌽 => 🍿</span>
		<!--potato-->
		<span id="p1" class="hidden">cooking...<br></span>
		<span id="p2" class="hidden">fail...<br>🥔 => ❌</span>
		<!--apple-->
		<span id="a1" class="hidden">Error: no food available<br></span>
	</div>
</div>

- 위에서 🌽 와 🥔 의 경우 <b>출력</b>을 보면 <b class="purple">재료를 검사할때까지</b> <b>기다린 후</b> <b class="green">요리를 시작 합니다.</b>
- 결국 <b class="purple">재료를 검사시간</b>이 <b class="purple">5초</b>, <b class="green">요리하는 시간</b>이 <b class="green">6초</b>라면 <b class="red">최대 11초</b>를 기다려야 <b class="blue">요리 성공여부</b>를 알 수 있습니다.
- 만약 위의 <b class="red">두가지 과정</b>이 동시에 진행된다면 <b class="red">최대 6초</b>안에는 <b class="blue">요리 성공여부</b>를 알 수 있습니다.

<script>
	const Form = document.querySelector(".A-20_out");
	const outForm = document.querySelector(".A-20_out #out");
	const cornButton = Form.querySelector("#corn");
	const potatoButton = Form.querySelector("#potato");
	const appleButton = Form.querySelector("#apple");
	const base = document.querySelector(".A-20_out #out #base");
	const corn1 = document.querySelector(".A-20_out #out #c1");
	const corn2 = document.querySelector(".A-20_out #out #c2");
	const potato1 = document.querySelector(".A-20_out #out #p1");
	const potato2 = document.querySelector(".A-20_out #out #p2");
	const apple1 = document.querySelector(".A-20_out #out #a1");
	let timer1;
	let timer2;


	function addHidden() {
		clearTimeout(timer1);
		clearTimeout(timer2);
		corn1.classList.add("hidden");
		corn2.classList.add("hidden");
		potato1.classList.add("hidden");
		potato2.classList.add("hidden");
		apple1.classList.add("hidden");
	}

	function inputCorn() {
		addHidden();
		base.classList.remove("hidden");
		timer1 = setTimeout(() => {
			corn1.classList.remove("hidden");
		}, 2000);
		timer2 = setTimeout(() => {
			corn2.classList.remove("hidden");
		}, 4000);
	}

	function inputPotato() {
		addHidden();
		base.classList.remove("hidden");
		timer1 = setTimeout(() => {
			potato1.classList.remove("hidden");
		}, 2000);
		timer2 = setTimeout(() => {
			potato2.classList.remove("hidden");
		}, 4000);
	}

	function inputApple() {
		addHidden();
		base.classList.remove("hidden");
		timer1 = setTimeout(() => {
			apple1.classList.remove("hidden");
		}, 2000);
	}

	cornButton.addEventListener("click", inputCorn);
	potatoButton.addEventListener("click", inputPotato);
	appleButton.addEventListener("click", inputApple);
</script>

<style>
	.A-20_out {
	  display: flex;
	  align-items: center;
	  flex-direction: column;
	}
	.A-20_out #out {
	  padding-left: 6px;
	  color: white;
	  width: 50%;
	  height: 140px;
	  background-color: rgb(42, 44, 48);
	}

	#A-20_title {
	  padding-left: 3px;
	  padding-right: 3px;
	  width: 50%;
	  margin: 0px;
	  text-align: center;
	  background-color: rgb(183, 252, 73);
	}

	#A-20_btn {
	  display: flex;
  	  justify-content: space-around;
	  padding-left: 3px;
	  padding-right: 3px;
	  background-color: rgb(200, 229, 186);
	  width: 50%;
	}

	.A-20_out button {
	  font-size: 30px;
	  margin-left: 10px;
	  margin-right: 10px;
	  background-color: transparent;
	  border: none;
	  outline: none;
	  cursor: pointer;
	  transition: transform 300ms ease;
	}

	.A-20_out button:hover {
	  transform: scale(1.2);
	}

	.hidden {
	  display: none;
	}
</style>
