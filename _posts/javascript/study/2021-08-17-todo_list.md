---
layout: post
title: "[JavaScript] ToDoë¦¬ìŠ¤íŠ¸ ë§Œë“¤ê¸°"
subtitle: ""
date: 2021-08-17 02:45:51 +0900
categories: javascript
tags: study
comments: true
---

<h1>1ï¸âƒ£ ëª©í‘œ</h1>
<kline></kline>

- ì´ë²ˆì—ëŠ” <b style="color:green">ToDoë¦¬ìŠ¤íŠ¸</b>ê¸°ëŠ¥ì„ êµ¬í˜„í•´ë³¼ ì˜ˆì •ì…ë‹ˆë‹¤.

```html
<form id="A17-todo">
  <input type="text" placeholder="what to do" required />
</form>
<ol id="A17-todo-list"></ol>
```

- `html`ì˜ ê¸°ë³¸ í˜•íƒœëŠ” **ìœ„ì™€ ê°™ìŠµë‹ˆë‹¤.** <rd>todo(í•  ê²ƒ)</rd>ì„ **submit**ìœ¼ë¡œ ë°›ê¸° ìœ„í•´ `form`íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì…ë ¥ì„ ë°›ì•˜ìŠµë‹ˆë‹¤.
- <b style="color:blue">ì…ë ¥ë°›ì€ ê°’</b>ì€ `ol(ë²ˆí˜¸ê°€ ë‹¬ë¦° ë¦¬ìŠ¤íŠ¸)`íƒœê·¸ì•ˆì— <rd>li(ë¦¬ìŠ¤íŠ¸)</rd>í˜•íƒœë¡œ ìˆœì°¨ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤.
- **ìƒˆë¡œê³ ì¹¨**ì´í›„ì—ë„ **ì •ë³´ê°€ ìœ ì§€**ë˜ê¸° ìœ„í•´ <b style="color:green">LocalStorage</b>ë¥¼ ì„ì‹œë¡œ ì´ìš©í•  ê³„íšì…ë‹ˆë‹¤.

<h1 class="ksubject">2ï¸âƒ£ ìƒˆë¡­ê²Œ ë°°ìš´ ì£¼ìš”ê¸°ëŠ¥ë“¤</h1>
<h2 style="color:#0e435c;">(1) ë°°ì—´ push()í•¨ìˆ˜</h2>

- <b><rd>ìƒˆë¡œê³ ì¹¨</rd></b>ì´í›„ì—ë„ <b style="color:green">Todoë¦¬ìŠ¤íŠ¸</b>ê°€ ìœ ì§€ë˜ê¸° ìœ„í•´ì„œëŠ”
  <b style="color:blue">LocalStorage</b>ë¥¼ ì´ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ì¦‰, ì´ì „ì— ë°°ìš´ `localStorage.setItem()`ì´ìš©í•˜ì—¬ **ì…ë ¥ë°›ì€ ê°’ì„ ì¼ë¦¬ë¦¬ ì €ì¥í•´ì£¼ëŠ” ê³¼ì •**ì´ í•„ìš”í•©ë‹ˆë‹¤.
- ì¶”ê°€ë¡œ <rd>ë¦¬ìŠ¤íŠ¸ ì œê±°, ë¦¬ìŠ¤íŠ¸ ì™„ë£Œí‘œì‹œ</rd>ê¸°ëŠ¥ë„ ë„£ì–´ì•¼ ë˜ê¸° ë•Œë¬¸ì— <rd>ë°°ì—´í˜•íƒœ</rd>ë¡œ ì €ì¥í•´ì•¼í•©ë‹ˆë‹¤.

```javascript
let toDos = [];
const toDoInput = document.querySelector("#A17-todo input");

function submitFunc(event)
    event.preventDefault();
    const newInput = toDoInput.value;
    const newObj = {
        text: newInput,
        id: Date.now(),
        is_done: false,
    }
    toDoInput.value = "";
    toDos.push(newObj);
    saveToDos();
    paintToDo(newObj);
}

/* saveToDos() */
function saveToDos() {
    localStorage.setItem(TODO_KEY, JSON.stringify(toDos));
}
```

- ìœ„ì²˜ëŸ¼ **ì…ë ¥ê°’**ì— ëŒ€í•œ ì •ë³´ê°€ ë‹¯ê¸´ <rd>ë°°ì—´(newObj)</rd>ì„ <b style="color:green">local storage</b>ë¡œ ìµœì¢…ì ìœ¼ë¡œ ë„˜ê²¨ì¤„ <rd>ë°°ì—´(toDos)</rd>ì— `.push()`ë©”ì†Œë“œë¥¼ ì´ìš©í•˜ì—¬ ì¶”ê°€í•´ ì¤ë‹ˆë‹¤.
- `id`ê°’ì€ **í˜„ì¬ì‹œê°„ì„ (ms)ë‹¨ìœ„ë¡œ ë³€í™˜í•œ ê°’ì„ ì£¼ëŠ”** `Date.now()`ë¥¼ ì´ìš©í–ˆìŠµë‹ˆë‹¤.
- `saveToDos()`ë©”ì†Œë“œì—ì„œëŠ” ìµœì¢…ì ìœ¼ë¡œ <b style="color:green">local storage</b>ë¡œ ë°ì´í„°ë¥¼ ë„˜ê²¨ì£¼ê²Œ ë©ë‹ˆë‹¤.

<kline></kline>

<h2 style="color:#0e435c;">(2) JSON.stringify()</h2>

- ìœ„ì—ì„œ <b style="color:green">local storage</b>ë¡œ ë°ì´í„°ë¥¼ ë„˜ê²¨ì£¼ê¸° ìœ„í•´ <b style="color:blue">toDos</b>ë°°ì—´ì„ `JSON.stringify()`ë©”ì†Œë“œë¡œ **í¬ë§·íŒ…**ì„ í•´ì¤€ë’¤ ë„˜ê²¨ì£¼ì—ˆìŠµë‹ˆë‹¤.

- ì—¬ê¸°ì„œ `JSON`ì€ "í‚¤-ê°’ ìŒ"ìœ¼ë¡œ ì´ë£¨ì–´ì§„ ë°ì´í„° ì˜¤ë¸Œì íŠ¸ë¥¼ ì „ë‹¬í•˜ê¸° ìœ„í•´ ì¸ê°„ì´ ì½ì„ ìˆ˜ ìˆëŠ” í…ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” **ê°œë°©í˜• í‘œì¤€** í¬ë§·ì…ë‹ˆë‹¤. ìì„¸í•œ ì„¤ëª…ì€ ì•„ë˜ì˜ ì‚¬ì´íŠ¸ë¥¼ ì°¸ê³ ë©´ ë©ë‹ˆë‹¤.
  <br>
  ğŸ‘‰ğŸ» ğŸ‘‰ğŸ» ğŸ‘‰ğŸ» <a href="https://ko.wikipedia.org/wiki/JSON" target="blank">JSON - ìœ„í‚¤ë°±ê³¼</a>
  ğŸ‘‰ğŸ» ğŸ‘‰ğŸ» ğŸ‘‰ğŸ» <a href="https://www.youtube.com/watch?v=FN_D4Ihs3LE" target="blank">JSONê°œë… - ë“œë¦¼ì½”ë”© by ì—˜ë¦¬</a>

- **í¬ë§¤íŒ…**ì„ í•´ì£¼ì§€ ì•Šìœ¼ë©´ ë‹¤ìŒê³¼ ê°™ì´ <rd>object</rd>ë¡œ í‘œì‹œë˜ì–´ **ì–´ë–¤ ê°’**ì´ ì €ì¥ë˜ì–´ìˆëŠ”ì§€ í™•ì¸í•˜ê¸° í˜ë“­ë‹ˆë‹¤. <b style="font-size:85%">(ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ê¸°ëŠ” í•˜ë‹¤)</b>
  <img src="https://kirkim.github.io/assets/img/js/todo_list/1.png" alt="before format">

- **console.log()** ì¶œë ¥ê°’ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
<div style="column-count:2">
<p>
	í¬ë§¤íŒ…í•˜ì§€ì•Šì€ toDos ì½˜ì†”ì¶œë ¥<br>
	<kkr>
		{text: "sample", id: 1629291987284, is_done: false}<br>
	</kkr>
</p>
<p>
	<b style="color:green">JSON.stringify()</b>ì‚¬ìš©í›„ toDos ì½˜ì†”ì¶œë ¥<br>
	<kkr>
		{"text":"sample","id":1629291987284,"is_done":false}<br>
	</kkr>
</p>
</div>

<img src="https://kirkim.github.io/assets/img/js/todo_list/2.png" alt="before format">

- ìœ„ì™€ ê°™ì´ **ì•Œì•„ë³¼ ìˆ˜ ìˆëŠ” ê°’**ìœ¼ë¡œ ì„±ê³µì ìœ¼ë¡œ í‘œì‹œ ë˜ì—ˆìŠµë‹ˆë‹¤.

<kline></kline>

<h2 style="color:#0e435c;">(3) forEach()</h2>

```javascript
const savedToDos = localStorage.getItem(TODO_KEY);

if (savedToDos !== null) {
  const parsedToDos = JSON.parse(savedToDos);
  toDos = parsedToDos;
  parsedToDos.forEach(paintToDo);
}
```

- **ìƒˆë¡œê³ ì¹¨**í–ˆì„ë•Œ ë§ˆë‹¤ ìœ„ì˜ **ë¡œì§**ì´ ì‹¤í–‰ë˜ì–´ <b style="color:green">LocalStorage</b>ì—ì„œ **ë°ì´í„°**ë¥¼ ê°€ì ¸ì™€ì„œ <rd>íŒŒì‹±</rd>í•´ì¤ë‹ˆë‹¤.
- `JSON`ì—ì„œ `parse()`ëŠ” `stringify()`ì™€ ë°˜ëŒ€ë¡œ **JSON ë¬¸ìì—´ì˜ êµ¬ë¬¸ì„ ë¶„ì„í•˜ê³ , ê·¸ ê²°ê³¼ì—ì„œ JavaScriptê°’ì´ë‚˜ ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.**
<div style="column-count:2">
<p>
	<b>savedToDos</b> ì½˜ì†”ì¶œë ¥<br>
	<kkr>
		[{"text":"a","id":1629293013701,"is_done":false}]<br>
	</kkr>
</p>
<p>
	<b style="color:green">JSON.parse</b>ì‚¬ìš©í›„ ì½˜ì†”ì¶œë ¥<br>
	<img src="https://kirkim.github.io/assets/img/js/todo_list/3.png" alt="console out">
</p>
</div>

- `parse`ë¡œ **íŒŒì‹±ì´ ì™„ë£Œëœ parsedToDos**ëŠ” ë°°ì—´í˜•íƒœì…ë‹ˆë‹¤. `forEach()`ë©”ì†Œë“œë¥¼ ì´ìš©í•˜ë©´ ë°°ì—´ì˜ <b style="color:blue">ëª¨ë“  ìš”ì†Œ</b>ë¥¼ **ì¸ì**ë¡œ ë°›ì€ <b style="color:green">ë©”ì†Œë“œ</b>ë¥¼ í˜¸ì¶œí•´ì¤ë‹ˆë‹¤.
- **ë…¸ë“œ**ë¥¼ **ë©”ì†Œë“œ**ì˜ **ë§¤ê°œë³€ìˆ˜**ë¡œ ìë™ìœ¼ë¡œ ë„˜ê²¨ì¤ë‹ˆë‹¤.

<kline></kline>

<h2 style="color:#0e435c;">(4) filter()</h2>

```javascript
function deleteToDo(event) {
  const target = event.target.parentElement;
  target.remove();
  toDos = toDos.filter((toDos) => toDos.id !== parseInt(target.id));
  saveToDos();
}
```

- **ì‚­ì œ**ë²„íŠ¼ì„ ëˆ„ë¥´ëŠ” **ì´ë²¤íŠ¸**ë¥¼ í•˜ë©´ `deleteToDo()`ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
- `event.target`ëŠ” ë²„íŠ¼ì˜ íƒœê·¸ì¸ `<button>`ì„ ê°€ë¦¬í‚¤ê³  `event.target.parentElement`ëŠ” ì·¨ì†Œë²„íŠ¼ì˜ **ë¶€ëª¨ë…¸ë“œ**ì¸ `<li>`ë¥¼ ê°€ë¥´í‚¤ê²Œ ë©ë‹ˆë‹¤. ì¦‰, `<li>`ì¸ `event.target.parentElement`ë¥¼ ì‚­ì œí•´ì•¼ ì •í™•íˆ **ë¦¬ìŠ¤íŠ¸**ë¥¼ í•œê°œ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- í•˜ì§€ë§Œ ì—­ì‹œ <b style="color:green">LocalStorage</b>ì—ì„œì˜ ë°ì´í„°ë„ ì—…ë°ì´íŠ¸ ì‹œì¼œì¤˜ì•¼ í•©ë‹ˆë‹¤.
- `filter()`ë©”ì†Œë“œë¥¼ ì´ìš©í•˜ë©´ `forEach()`ë©”ì†Œë“œì™€ ê°™ì´ **ë°°ì—´ì˜ ëª¨ë“  ìš”ì†Œë§ˆë‹¤** <rd>íŠ¹ì • ë©”ì†Œë“œ</rd>ë¥¼ í˜¸ì¶œí•˜ì—¬ì¤ë‹ˆë‹¤. ë§Œì•½ <rd>íŠ¹ì • ë©”ì†Œë“œ</rd>ê°€ <b style="color:purple">false(ê±°ì§“)</b>ì´ ì•„ë‹Œ <b style="color:purple">true(ì°¸)</b>ì„ ë°˜í™˜í•œ ê°’ë“¤ë§Œì„ ëª¨ì•„ë‘” ë°°ì—´ì„ ë§Œë“¤ì–´ ë°˜í™˜í•©ë‹ˆë‹¤.
- **íƒ€ê²Ÿë…¸ë“œ**ëŠ” ë°”ë€Œì§€ì•Šê³  <rd>ë°˜í™˜ê°’</rd>ìœ¼ë¡œë§Œ **ë³€í™˜ëœ ë°°ì—´**ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ `toDos`ë³€ìˆ˜ë¡œ ë‹¤ì‹œ ë°›ì•„ì¤ë‹ˆë‹¤.
- `filter()`ë©”ì†Œë“œëŠ” ìœ„ì™€ê°™ì´ `=>`ê¸°í˜¸ë¥¼ ì´ìš©í•˜ì—¬ **ë©”ì†Œë“œ ëŒ€ì‹ ** ê°„ë‹¨í•œ <b style="color:purple">booleaní˜• ì¡°ê±´ë¬¸</b>ìœ¼ë¡œ ëŒ€ì²´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

<h1 class="ksubject">3ï¸âƒ£ ì·¨ì†Œì„ ìœ¼ë¡œ ì²´í¬ê¸°ëŠ¥ ë„£ê¸°</h1>
<h2 style="color:#0e435c;">(1) css, html</h2>

- ì·¨ì†Œì„ ì„ ë§Œë“¤ ìˆ˜ ìˆëŠ” ê²ƒì€ <rd>html</rd>ê³¼ <b style="color:blue">css</b>ëª¨ë‘ ê¸°ëŠ¥ì´ ìˆìŠµë‹ˆë‹¤.
  1.  <b><rd>html</rd></b>ì—ì„œ **íƒœê·¸**ë¥¼ `<s>`ë¡œ ë°”ê¾¸ê¸°
  2.  <b style="color:blue">css</b>ì—ì„œ `text-decoration`ìš”ì†Œ ì´ìš©í•˜ê¸°
- ìœ„ì˜ ë°©ë²•ì¤‘ <rd>html</rd>ë¥¼ ìˆ˜ì •í•´ì£¼ëŠ” ì½”ë“œëŠ” <b style="color:orange">ìë°”ìŠ¤í¬ë¦½íŠ¸</b>ì—ì„œ **ë…¸ë“œ**ì˜ **HTML**ìš”ì†Œë¥¼ ìˆ˜ì •í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ë°”ê¿”ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ëŸ°ì‹ìœ¼ë¡œ <rd>íƒœê·¸</rd>ë¥¼ ë³€ê²½í•´ì£¼ë©´ ê¸°ì¡´ì— ìˆë˜ <b style="color:green">ì´ë²¤íŠ¸í•¨ìˆ˜</b>ì´ ì›í•˜ëŠ”ë°ë¡œ ì‘ë™í•˜ì§€ ì•ŠëŠ” í˜„ìƒì´ ë°œìƒí–ˆìŠµë‹ˆë‹¤. <b style="font-size:85%">(ì–´ë–»ê²Œë“  **ì´ë²¤íŠ¸í•¨ìˆ˜**ê°€ ë™ì‘í•˜ë„ë¡ ë§Œë“¤ ìˆ˜ ìˆì§€ë§Œ ì½”ë“œê°€ ë„ˆë¬´ ë³µì¡í•´ì§)</b>
- ë˜í•œ **ì¸í„°ë„·ìƒ**ì—ì„œë„ <rd>cssì—ì„œ êµ¬í˜„ëœ ê¸°ëŠ¥ì€ ë˜ë„ë¡ì´ë©´ jsëŒ€ì‹  cssë¥¼ ì´ìš©</rd>í•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì ì´ë¼ê³  ë§í•©ë‹ˆë‹¤.

```css
/* style.css */
.A17-del {
  text-decoration: line-through;
  color: red;
}
```

```javascript
/* todo.js */
function doneFunc(event) {
  const tar = event.target.parentElement;
  for (const i in toDos) {
    if (toDos[i].id === parseInt(tar.id)) {
      if (toDos[i].is_done === true) {
        event.target.classList.remove("A17-del");
        toDos[i].is_done = false;
      } else {
        event.target.classList.add("A17-del");
        toDos[i].is_done = true;
      }
    }
  }
  saveToDos();
}
```

- `css`ë¥¼ ì´ìš©í•˜ë©´ **ìœ„ì˜ì½”ë“œ**ë§Œìœ¼ë¡œ ê°„ë‹¨í•˜ê²Œ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<h1 class="ksubject">4ï¸âƒ£ ìµœì¢… ê²°ê³¼ë¬¼</h1>

- <b style="color:green">todo(í•  ê²ƒ)</b>ì„ <rd>ìµœëŒ€ 40ì</rd>ê¹Œì§€ ì‘ì„±í•˜ì—¬ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- <b style="color:green">todo(í•  ê²ƒ)</b>ë¥¼ <rd>í´ë¦­</rd>í•˜ì—¬ **ì²´í¬ì„ **ì„ ê·¸ë¦¬ê±°ë‚˜ ì§€ì›Œì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- <b style="color:blue">X ë²„íŠ¼</b>ì„ ëˆŒëŸ¬ì„œ <b style="color:green">íŠ¹ì • todo(í•  ê²ƒ)</b>ì„ ì§€ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<iframe width="100%" height="300" src="//jsfiddle.net/kirkim/L1fg9vc8/18/embedded/result,js,html,css/dark/" allowfullscreen="allowfullscreen" allowpaymentrequest frameborder="0"></iframe>

<!--
<style>
	#A17-todo-list {
		background-image: url("https://kirkim.github.io/assets/img/js/note.png");
		background-size: 100% 30px;
	}
	#A17-todo-list li {
		height: 30px;
		margin-top: 0px;
		padding-left:2%;
		margin-left: 18%;
	}
	#A17-todo-list li button {
		font-size: 2px;
		padding: 1px 2px;
		color: red;
	}
	.A17-del {
		text-decoration: line-through;
		color: red;
	}
</style>

<script>
	const toDoForm = document.querySelector("#A17-todo");
	const toDoInput = document.querySelector("#A17-todo input");
	const toDoList = document.querySelector("#A17-todo-list");
	const TODO_KEY = "todos";
	let toDos = [];

	function saveToDos() {
		localStorage.setItem(TODO_KEY, JSON.stringify(toDos));
	}

	function deleteToDo(event) {
		const target = event.target.parentElement;
		target.remove();
		toDos = toDos.filter((toDos) => toDos.id !== parseInt(target.id));
		saveToDos();
	}

	function doneFunc(event) {
		const tar = event.target.parentElement;
		for (const i in toDos) {
			if (toDos[i].id === parseInt(tar.id)) {
				if (toDos[i].is_done === true) {
					event.target.classList.remove("A17-del");
					toDos[i].is_done = false;
				} else {
					event.target.classList.add("A17-del");
					toDos[i].is_done = true;
				}
			}
		}
		saveToDos();
	}

	function checkDone(newObj, newToDo) {
		if (newObj.is_done === true) {
			newToDo.classList.add("A17-del");
			newToDo.innerText = newObj.text;
		} else {
			newToDo.classList.remove("A17-del");
			newToDo.innerText = newObj.text;
		}
	}

	function paintToDo(newObj) {
		const newToDoSet = document.createElement("li");
		newToDoSet.id = newObj.id;
		const newToDo = document.createElement("span");
		checkDone(newObj, newToDo);
		newToDo.addEventListener("click", doneFunc);
		const deleteButton = document.createElement("button");
		deleteButton.innerText = "X";
		deleteButton.addEventListener("click", deleteToDo);
		newToDoSet.append(newToDo, " ", deleteButton);
		toDoList.appendChild(newToDoSet);
	}

	function submitFunc(event) {
		event.preventDefault();
		const newInput = toDoInput.value;
		const newObj = {
			text: newInput,
			id: Date.now(),
			is_done: false,
		}
		toDoInput.value = "";
		toDos.push(newObj);
		saveToDos();
		paintToDo(newObj);
	}

	toDoForm.addEventListener("submit", submitFunc);

	const savedToDos = localStorage.getItem(TODO_KEY);

	if (savedToDos !== null) {
		const parsedToDos = JSON.parse(savedToDos);
		toDos = parsedToDos;
		parsedToDos.forEach(paintToDo);
	}
</script>
-->
